workflows:
  ios-release-no-shorebird:
    name: iOS Release
    environment:
      flutter: stable
      xcode: latest

    scripts:
      - name: ğŸ” Check Flutter environment
        script: flutter doctor -v

      - name: ğŸ“¦ Install dependencies
        script: flutter pub get

      - name: ğŸ§¹ Clean previous builds
        script: flutter clean

      - name: ğŸ—ï¸ Build iOS app for Simulator
        script: flutter build ios --simulator

      - name: ğŸ“ Package Runner.app into .zip
        script: |
          mkdir -p build/ios/ipa
          zip -r build/ios/ipa/Runner.app.zip build/ios/iphonesimulator/Runner.app

    artifacts:
      - build/ios/ipa/Runner.app.zip
